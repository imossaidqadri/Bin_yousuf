---
// src/components/islands/TestGSAPFunctionality.astro
// Test component to verify GSAP functionality within islands
---

<div 
  id="test-animation-element"
  class="p-4 bg-blue-200 text-blue-800 rounded mb-4 opacity-0"
>
  This element is animated using GSAP in an Astro Island
</div>

<script>
  (async () => {
    console.log('Testing GSAP functionality in island...');
    
    // Load GSAP directly
    const gsapModule = await import('gsap');
    const gsap = gsapModule.default;
    
    // Test basic animation
    try {
      const testElement = document.getElementById('test-animation-element');
      if (testElement) {
        // Direct GSAP animation
        gsap.fromTo(testElement, 
          { opacity: 0, y: 50 },
          { 
            opacity: 1, 
            y: 0,
            duration: 1.5,
            ease: 'power2.out'
          }
        );
        console.log('FadeIn animation completed successfully');
        
        // Test another animation after delay
        setTimeout(() => {
          gsap.to(testElement, {
            x: 20,
            duration: 1,
            ease: 'power2.out',
            yoyo: true,
            repeat: -1
          });
          console.log('Slide animation completed successfully');
        }, 2000);
      }
    } catch (error) {
      console.error('Error in GSAP animation test:', error);
    }
  })();
</script>